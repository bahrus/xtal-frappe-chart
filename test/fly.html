<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- Use experimental import maps -->
    <script defer src="../node_modules/es-module-shims/dist/es-module-shims.js"></script>
    <xtal-frappe-chart-example1 id=chart></xtal-frappe-chart-example1>
    <script>
        chart.addEventListener('selected-element-changed', e =>{
            const lhs = JSON.stringify(e.detail.value);
            const expected = {
              values: [30, 10, 3],
              label: "6am-9am",
              index: 2,
            };
            const rhs = JSON.stringify(expected);
            console.log(rhs);
            if(JSON.stringify(lhs) === JSON.stringify(rhs)){
              const div = document.createElement('div');
              div.setAttribute('mark', '');
              document.body.appendChild(div);
            }else{
            }
        })
        customElements.whenDefined('xtal-frappe-chart').then(() =>{
          setTimeout(() =>{
            console.log('invoking');
            $hell.cd("/xtal-frappe-chart-example1#chart/div#target/div/svg/g[0]/g[2]/rect[2]");
            console.log($hell.$0);
            console.log(typeof $hell.$0)
            setTimeout(() =>{
              $hell.$0.dispatchEvent(new Event('click'));
            }, 500);
            
          }, 3000);

        })
    </script>
    <script type="importmap-shim">
    {
        "imports": {
            "xtal-element/": "../node_modules/xtal-element/",
            "trans-render/": "../node_modules/trans-render/",
            "p-et-alia/": "../node_modules/p-et-alia/",
            "frappe-charts/": "../node_modules/frappe-charts/"
        }
    }
    </script>
    <script type="module-shim">
        import '../xtal-frappe-chart-example1.js';
        import '../node_modules/xtal-shell/$hell.js';
    </script>
</body>
</html>